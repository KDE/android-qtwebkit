<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Testing the exception thrown by Array.toString</title>
<script language="javascript">
function init(){  
  var ary=[0];
  for(var i=1; i<10000; i++)
    ary=[ary, i];
    
  var out;
  try{
    out=ary.toString();
  }catch(e){
    out=e;
  }
  
  document.getElementById("r0c0").firstChild.nodeValue = out;
  if (window.layoutTestController) {
    window.layoutTestController.dumpAsText();
  }
}
</script>
</head>
<body onload="init()">
<p>This test checks for a regression against <a href="http://bugzilla.opendarwin.org/show_bug.cgi?id=3743">http://bugzilla.opendarwin.org/show_bug.cgi?id=3743</a>: Incorrect error message given for certain calls.</p>
<p>On success, you should see: RangeError - Maximum call stack size exceeded.</p>
<p>The test confirms that the correct exception is thrown in the event of a stack overflow during a call to Array.toString. </p>
<p>It is possible that this may need to be updated if WebKit gets an improvement to its JavaScript stack support.  Either through increasing the depth of the recursion, or through some other mechanism.</p>
<hr> 
<table cellpadding="2" cellspacing="2" border="1">
<tbody>
<tr>
<td id="r0c0">&nbsp;</td>
</tr>
</tbody>
</table>
</body>
</html>
