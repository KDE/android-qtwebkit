<html>
<head>
<style>
.pass {
    font-weight: bold;
    color: green;
}
.fail {
    font-weight: bold;
    color: red;
}
#console {
    white-space: pre-wrap;
}
</style>

<script src="kde/resources/base.js"></script>
<script>
if (window.layoutTestController)
    layoutTestController.dumpAsText();

function testPassed(msg)
{
    document.getElementById("console").innerHTML += '<span class="pass">PASS</span> ' + msg + "<br>";
}

function testFailed(msg)
{
    document.getElementById("console").innerHTML += '<span class="fail">FAIL</span> ' + msg + "</span><br>";
}

function debug(a) 
{ 
    document.getElementById("console").innerHTML += "<p>" + a + "</p>"; 
}
</script>
</head>
<body>
<p>This test checks that activation objects (the local scope for a
function) don't have the special __proto__ property that lets you get
and set a normal object's prototype. This is important because the
impossibility of swizzling activation object prototype chains allows
various optimizations.</p>
<p>On success, you will see a series of "PASS" messages.</p>

<div id="console">
</div>
<script>
shouldBe("(function() { __proto__.testVariable = 'found'; return window.testVariable; })()", "'found'");
</script>

</body>
</html>
