createDocument tests modeled after createElementNS tests from mozilla which were attached to webkit bug 16833

On success, you will see a series of "PASS" messages, followed by "TEST COMPLETE".


PASS document.createElementNS().toString() is "[object Element]"
PASS document.createElementNS("http://www.example.com").toString() is "[object Element]"
PASS createDocument(, )
PASS createDocument(null, )
FAIL createDocument(, null)
FAIL createDocument(null, null)
FAIL createDocument(null, "")
FAIL createDocument("", null)
FAIL createDocument("", "")
PASS createDocument(null, "<div>"); threw INVALID_CHARACTER_ERR
PASS createDocument(null, "0div"); threw INVALID_CHARACTER_ERR
PASS createDocument(null, "di v"); threw INVALID_CHARACTER_ERR
PASS createDocument(null, "di<v"); threw INVALID_CHARACTER_ERR
PASS createDocument(null, "-div"); threw INVALID_CHARACTER_ERR
PASS createDocument(null, ".div"); threw INVALID_CHARACTER_ERR
PASS createDocument("http://example.com/", "<div>"); threw INVALID_CHARACTER_ERR
PASS createDocument("http://example.com/", "0div"); threw INVALID_CHARACTER_ERR
PASS createDocument("http://example.com/", "di<v"); threw INVALID_CHARACTER_ERR
PASS createDocument("http://example.com/", "-div"); threw INVALID_CHARACTER_ERR
PASS createDocument("http://example.com/", ".div"); threw INVALID_CHARACTER_ERR
PASS createDocument(null, ":div"); threw NAMESPACE_ERR
PASS createDocument(null, "div:"); threw NAMESPACE_ERR
PASS createDocument("http://example.com/", ":div"); threw NAMESPACE_ERR
PASS createDocument("http://example.com/", "div:"); threw NAMESPACE_ERR
PASS createDocument(null, "d:iv"); threw NAMESPACE_ERR
PASS createDocument(null, "a:b:c"); valid XML name, invalid QName; threw NAMESPACE_ERR
PASS createDocument("http://example.com/", "a:b:c"); valid XML name, invalid QName; threw NAMESPACE_ERR
PASS createDocument(null, "a::c"); valid XML name, invalid QName; threw NAMESPACE_ERR
PASS createDocument("http://example.com/", "a::c"); valid XML name, invalid QName; threw NAMESPACE_ERR
PASS createDocument("http://example.com/", "a:0"); valid XML name, not a valid QName; threw INVALID_CHARACTER_ERR
PASS createDocument("http://example.com/", "0:a"); 0 at start makes it not a valid XML name; threw INVALID_CHARACTER_ERR
PASS createDocument("http://example.com/", "a:_")
FAIL createDocument("http://example.com/", "a:ெ"); non-ASCII character after colon is CombiningChar, which is NCNameChar but not (Letter | "_") so invalid at start of NCName (but still a valid XML name, hence not INVALID_CHARACTER_ERR); expected NAMESPACE_ERR, threw INVALID_CHARACTER_ERR
PASS createDocument("http://example.com/", "ெ:a"); non-ASCII character after colon is CombiningChar, which is NCNameChar but not (Letter | "_") so invalid at start of NCName (Gecko chooses to throw NAMESPACE_ERR here, but either is valid as this is both an invalid XML name and an invalid QName); threw INVALID_CHARACTER_ERR
PASS createDocument("http://example.com/", "a:aெ")
PASS createDocument("http://example.com/", "aெ:a")
PASS createDocument("http://example.com/", "xml:test"); binding xml prefix wrong; threw NAMESPACE_ERR
PASS createDocument("http://example.com/", "xmlns:test"); binding xmlns prefix wrong; threw NAMESPACE_ERR
PASS createDocument("http://www.w3.org/2000/xmlns/", "x:test"); binding namespace namespace to wrong prefix; threw NAMESPACE_ERR
PASS createDocument("http://www.w3.org/2000/xmlns/", "xmlns:test")
PASS createDocument("http://www.w3.org/XML/1998/namespace", "xml:test")
PASS createDocument("http://www.w3.org/XML/1998/namespace", "x:test")
PASS successfullyParsed is true

TEST COMPLETE

