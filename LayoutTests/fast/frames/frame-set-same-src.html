<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<script>
    
    if (window.layoutTestController)
        layoutTestController.waitUntilDone();

    function reportSuccess() {
		console = document.getElementById("left_frame").contentWindow.document.getElementById("console");
		if (console.firstChild.nodeValue == "FAILURE") {
            console.firstChild.nodeValue = "PROCESSING...";
            document.getElementById("right_frame").src = "resources/purple.html";
        } else {
            console.firstChild.nodeValue = "SUCCESS";
            if (window.layoutTestController)
                layoutTestController.notifyDone();
        }
    }
    
</script>
</head>
<frameset cols="50%,*">
<frame id="left_frame" src="data:text/html,<body><p>Test for <a href='http://bugzilla.opendarwin.org/show_bug.cgi?id=3400'>bug 3400</a>: setting the .src of an iframe to the same value does not reload page.</p><p>Testing that setting an src of a frame to the same value works</p><p id=console>FAILURE</p></body>">
<frame id="right_frame" onload="javascript:reportSuccess()" src="resources/purple.html"></iframe>
</frameset>
</html>
