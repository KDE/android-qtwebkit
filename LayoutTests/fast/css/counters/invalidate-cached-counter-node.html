<head>
    <style>
        div.test { counter-increment: test-number; }
        div.test:before { content: counter(test-number) ". "; }
    </style>
</head>
<body>
    <p>
        Test for <i><a href="rdar://problem/6131096">rdar://problem/6131096</a>
        Reproducible crash in CounterNode::isReset under guard malloc</i>.
    </p>
    <div id="destroy-me" class="test">This should not be visible</div>
    <div id="keep-me" class="test">This sentence should be numbered 1.</div>
    <script>
        document.body.offsetTop;
        document.getElementById("destroy-me").style.display = "none";
        document.body.offsetTop;
        document.getElementById("keep-me").style.fontSize = "20px";
    </script>
</body>
