<html>
<script>
    function test() {
        var tf = document.getElementById('tf');
        tf.focus();
        if (window.layoutTestController) {
            layoutTestController.dumpAsText();
            eventSender.keyDown('P');
            eventSender.keyDown('A');
            eventSender.keyDown('S');
            eventSender.keyDown('S');
        }
    }
    
    function log(msg) {
        var res = document.getElementById('res');
        res.innerHTML = res.innerHTML + msg + "<br>";
    }
</script> 
<body onload="test()">
    This tests that preventing the default behavior for a keydown event will not prevent the keypress event from firing, and the text will be inserted.<br>
    This matches IE7 and Firefox.<br>
    <input id="tf" onkeydown="log('key down'); event.preventDefault();" onkeypress="log('key press')">
    <br>
    <div id="res"></div>
</body>
</html>
