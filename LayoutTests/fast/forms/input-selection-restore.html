<html>
    <head>
        <script type="text/javascript">
            function print(message)
            {
                var paragraph = document.createElement("li");
                paragraph.appendChild(document.createTextNode(message));
                document.getElementById("console").appendChild(paragraph);
            }
            function test()
            {
                if (window.layoutTestController) {
                    layoutTestController.dumpAsText();
                }
                var elt = document.getElementById("text");
                txt = "123456789";
                txt2 = "this is a test of a cursor!";
                
                // test getCursorPosition...
                elt.value = txt;
                elt.setSelectionRange(4, 6);
                elt.focus();
                elt.value = txt2;
                elt.focus();
                print(elt.selectionStart.toString() + ", " + elt.selectionEnd.toString());
            }
        </script>
    </head>
    <body onload="test();">
        <p>This tests that the selection is restored when a text field's value changes.</p>
        <p>If this test succeeded, you should see a line saying "4, 4" below.</p>
        <hr />
        <form>
            <input id="text"></input>
        </form>
        <hr />
        <p><ol id="console"></ol></p>
    </body>
</html>
