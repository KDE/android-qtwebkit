<html>
<head>
<script src="../../http/tests/inspector/inspector-test.js"></script>
<script src="../../http/tests/inspector/debugger-test.js"></script>

<script>

var test = function()
{
    InspectorTest.runTestSuite([
        function testScriptFormatterWorker(next)
        {
            var worker = new Worker("ScriptFormatterWorker.js");

            worker.onmessage = InspectorTest.safeWrap(function(event)
            {
                InspectorTest.assertEquals("var x = 0;", event.data.formattedSource);
                InspectorTest.completeTest();
            });

            worker.onerror = function(event)
            {
                InspectorTest.addResult("Error in worker: " + event.data);
                InspectorTest.completeTest();
            };

            worker.postMessage("var x=0");
        }
    ]);
}

</script>

</head>

<body onload="runTest()">
<p>Tests the script formatting functionality.
</p>

</body>
</html>
