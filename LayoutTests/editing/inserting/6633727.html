<html>
    <head>
        <script>
            function test() {
                var s = window.getSelection();
                s.setPosition(document.getElementById('anchor'), 1);
                document.execCommand("InsertParagraph");
                document.execCommand("InsertText", false, "2");
            }
        </script>
    </head>
    <body onload="test()">
        This tests the fix for &lt;rdar://problem/6633727&gt; Hitting return at the end of a line with an anchor jumps me to the bottom of the message<br>
        If the test has passed, the numbers should be in order, and only "1" should be a link.<br>
        <div contenteditable>
            <a href="#" id="anchor">1</a><div>3</div>
        </div>
    </body>
</body>