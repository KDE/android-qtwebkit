<html> 
<head>

<style>
.editing { 
    border: 2px solid red; 
    padding: 12px; 
}
blockquote {
    border-left: 2px solid blue;
    padding: 1em;
    margin: 0;
}
</style>
<script src="../editing.js" language="JavaScript" type="text/JavaScript" ></script>

<script>

function editingTest() {
    selectAllCommand();
    moveSelectionForwardByCharacterCommand();
    deleteCommand();
    deleteCommand();
    var string;
    string = "This is some text";
    for(i = 0; i < string.length; i++)
        typeCharacterCommand(string[i]);
    for(i = 0; i < string.length; i++)
        extendSelectionBackwardByCharacterCommand();
    deleteCommand();
    deleteCommand();
    string = "This text should not have the same style as the reply text";
    for(i = 0; i < string.length; i++)
        typeCharacterCommand(string[i]);  
}

</script>

<title>Editing Test</title> 
</head> 
<body>
<div contenteditable id="root" class="editing">
<div>Radar: <a href="rdar://problems/4038408&4154187&4125087&4125381">rdar://problems/4038408&4154187&4125087&4125381</a></div>
<div>Deletion of reply text should not produce reply text style unless the caret is inside the reply text blockquote.</div>
<div><BR class=3D"khtml-block-placeholder"></div>
<div>This tests deletion from underneath quoted text:</div>
<div><BR class=3D"khtml-block-placeholder"></div>
<div>
<blockquote style="color:blue;" type="cite">
<div>Here is some reply text</div>
<div>It should have the reply text style</div>
<div><BR class=3D"khtml-block-placeholder"></div>
<div><BR class=3D"khtml-block-placeholder"></div>
<div><BR class=3D"khtml-block-placeholder"></div>
</blockquote>


<div><BR class=3D"khtml-block-placeholder"></div>
</div>

</div>
</div>

</div>

<script>
runEditingTest();
</script>

</body>
</html>
