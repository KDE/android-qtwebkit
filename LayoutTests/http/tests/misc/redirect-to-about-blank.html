<html>
<script>
if (window.layoutTestController) {
    layoutTestController.dumpAsText()
    layoutTestController.waitUntilDone();
}

function runTest()
{
    var f = document.getElementById('theFrame');
    var r = document.getElementById('result');
    if (f.contentDocument.URL == 'about:blank')
        r.innerHTML = "SUCCESS: Did not crash and loaded about:blank correctly";
    else
        r.innerHTML = "FAILED: Did not crash but did not load about:blank correctly";
        
    if (window.layoutTestController)
        layoutTestController.notifyDone();
}
</script>
<body onload="runTest()">
<iframe id="theFrame" src="resources/redirect-to-about-blank.php"></iframe>
<div>This tests that loading a main resource that redirects to about:blank does not cause a crash (and that the load is done correctly).
<div id="result"></div>
</html>
