<html>
<head>
<script src="resources/lib.js"></script>
<script>
navUtils.set_frame_count(1);

navUtils.onready = function () {
  navUtils.log('Navigating frame.');
  navUtils.navigateByLocation(popup0.frames[0]);

  // There doesn't seem to be a good way to tell that the asynchronous
  // navigation has occurred in this case.  The best we can do is to
  // hope it will happen in the next 50ms.
  window.setTimeout(function() {
    if (window.layoutTestController)
      layoutTestController.notifyDone();
  }, 50);
};
</script>
</head>
<body>
<div id='console'></div>
<script>
var popup0 = window.open("http://localhost:8000/security/frameNavigation/resources/iframe.html#ready.html", "window0");
</script>
</body>
</html>
