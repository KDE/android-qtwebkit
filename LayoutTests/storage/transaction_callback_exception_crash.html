<html>
<head>
<script>

if (window.layoutTestController) {
    layoutTestController.dumpAsText();
    layoutTestController.waitUntilDone();
}

var db = openDatabase("15976Test", "1.0", "Test for http://bugs.webkit.org/show_bug.cgi?id=15976", 1);
db.transaction(function(tx) { 
    if (window.layoutTestController)
        setTimeout("layoutTestController.notifyDone()", 0);
    throw "TransactionCallbackError";
}, function(err) {
    if (window.layoutTestController)
        setTimout("layoutTestController.notifyDone()", 0);
    document.body.innerText = "Transaction error occured";
});

</script>
</head>
<body>
If WebKit doesn't crash, this test has passed
</body>
</html>
