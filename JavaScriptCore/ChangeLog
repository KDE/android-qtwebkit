2003-10-30  Maciej Stachowiak  <mjs@apple.com>

        Reviewed by NOBODY (OOPS!).

	- fixed 3427069 - browsing mp3.com causes leaks (KJS)
	
        * kjs/string_object.cpp:
        (StringProtoFuncImp::call): Don't do an early return, since that
	could leak a temporary regexp.

2003-10-29  Maciej Stachowiak  <mjs@apple.com>

        Reviewed by Darin.

	- fixed 3426076 - Leak of JS lexer data visiting http://www.ebay.com
	
        * kjs/grammar.cpp:
        (yyerror): Updated the commented code.
        * kjs/grammar.y: Don't delete string and identifier tokens when done
	with them any more, they'll get cleaned up by the lexer now.
        * kjs/internal.cpp:
        (Parser::parse): Tell lexer when done parsing.
        * kjs/lexer.cpp:
        (Lexer::Lexer): Initialize new data members.
        (Lexer::lex): Use new methods to make strings and identifiers, and
	save them.
        (Lexer::makeIdentifier): Make a new Identifier and save it in an
	auto-growing array.
        (Lexer::makeUString): Likewise for UStrings.
        (Lexer::doneParsing): Clean up arrays of Ifentifiers and UStrings.
        * kjs/lexer.h:

2003-10-28  Maciej Stachowiak  <mjs@apple.com>

        Reviewed by Ken.

	- fixed 3413962 -  malicious web pages can kill all future JavaScript execution by breaking recursion limit check
	
        * kjs/nodes.cpp:
        (FunctionCallNode::evaluate): If we're going to return early due
	to breaking the recursion limit, make sure to lower it again, or
	it will creep up by one each time it's exceeded.

2003-10-26  Darin Adler  <darin@apple.com>

        * JavaScriptCorePrefix.h: Added a C case to the NULL definition since we use C as well
        as C++ in this project.

2003-10-26  Darin Adler  <darin@apple.com>

        - rolled in some CString changes Harri Porten did on the KDE side

        * kjs/ustring.cpp:
        (KJS::CString::CString): Use memcpy instead of strcpy for speed. Fix an off by one error
        in the copy constructor.
        (KJS::CString::operator=): Use memcpy instead of strcpy for speed.

        * JavaScriptCorePrefix.h: Add a definition of NULL here that takes advantage of the GNU
        __null feature even if the system C library doesn't.

== Rolled over to ChangeLog-2003-10-25 ==
