#======================================================================
#
# Makefile
#
# $RCSfile$
# $Revision$
# $Author$
# $Date$
#
#======================================================================
# set top source dir relative to this directory
# include make vars boilerplate
#

TOPSRCDIR = ../..
include $(TOPSRCDIR)/Makefile.vars

#----------------------------------------------------------------------
# Set variables for this directory

SOURCES = $(wildcard *.mm)
HEADERS = $(wildcard *.h)

MMOBJECTS = \
	KWQApplication.o \
	KWQBrush.o \
	KWQFont.o \
	KWQFontMetrics.o \
	KWQPainter.o \
	KWQPen.o \
	KWQPixmap.o \
	KWQWMatrix.o \
	KWQWidget.o \
# FIXME: add back in when this file builds ->  KWQString.o \
	$(NULL)

OBJECTS = $(MMOBJECTS) 

LIBRARY = libkwq.a

CLEAN_FILES = $(OBJECTS) \
	$(LIBRARY) \
	$(NULL)

#----------------------------------------------------------------------
# Set flags for this directory

CMMFLAGS = $(BASECMMFLAGS) \
    -DQ_DELETING_VOID_UNDEFINED \
    -DQT_NO_TEXTCODEC \
    -DQT_NO_DATASTREAM \
    -D_KWQ_COMPLETE_ \
    -D_KWQ_IOSTREAM_ \
    -I$(TOPSRCDIR) \
    -I$(TOPSRCDIR)/src/kwq \
    -I$(TOPSRCDIR)/src/kwq/qt \
    -I. \
    $(NULL)

DEPFLAGS = $(CMMFLAGS)

#----------------------------------------------------------------------
# Set targets for this directory

all: $(OBJECTS) $(LIBRARY)

$(LIBRARY): $(MMOBJECTS)
	$(AR) $(ARFLAGS) $(LIBRARY) $(MMOBJECTS)
	$(RANLIB) $(LIBRARY)

#----------------------------------------------------------------------
# include make rules boilerplate

include $(TOPSRCDIR)/Makefile.rules

#======================================================================
# end
#======================================================================
