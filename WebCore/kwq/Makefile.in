#======================================================================
#
# Makefile
#
# $RCSfile$
# $Revision$
# $Author$
# $Date$
#
#======================================================================
# set top source dir relative to this directory
# include make vars boilerplate
#

TOPSRCDIR = ../../..
include $(TOPSRCDIR)/Makefile.vars

#----------------------------------------------------------------------
# Set variables for this directory

SOURCES = $(wildcard *.mm)
HEADERS = $(wildcard *.h)

MMOBJECTS = \
	kwqdebug.o \
	_KWQOwner.o \
	KWQasyncimageio.o \
	KWQasyncio.o \
	KWQbrowserextension.o \
	KWQsignals.o \
	KWQtextcodec.o \
	KWQtextstream.o \
	KWQApplication.o \
	KWQBitmap.o \
	KWQBrush.o \
	KWQButton.o \
        KWQCheckBox.o \
        KWQColor.o \
        KWQColorGroup.o \
        KWQComboBox.o \
        KWQCompletion.o \
        KWQCursor.o \
        KWQDrawUtil.o \
        KWQEvent.o \
	KWQFont.o \
	KWQFontDatabase.o \
	KWQFontInfo.o \
	KWQFontMetrics.o \
	KWQFrame.o \
	KWQHBox.o \
	KWQImage.o \
        KWQKjobclasses.o \
        KWQKnetaccess.o \
	KWQKstddirs.o \
        KWQKApplication.o \
        KWQKCharsets.o \
        KWQKComboBox.o \
        KWQKCompletionBox.o \
        KWQKConfigBase.o \
        KWQKCursor.o \
        KWQKDebug.o \
        KWQKFactory.o \
        KWQKFileItem.o \
        KWQKFileDialog.o \
        KWQKGlobal.o \
	KWQKGlobalSettings.o \
        KWQKHistoryProvider.o \
        KWQKHTMLPart.o \
        KWQKHTMLPartBrowserExtension.o \
        KWQKHTMLFactory.o \
        KWQKHTMLSettings.o \
        KWQKHTMLView.o \
        KWQKIconLoader.o \
        KWQKImageIO.o \
        KWQKInstance.o \
        KWQKJavaEmbed.o \
        KWQKJob.o \
        KWQKLocale.o \
        KWQKLineEdit.o \
        KWQKListBox.o \
        KWQKMimeType.o \
        KWQKMessageBox.o \
        KWQKPartsEvent.o \
        KWQKPrinter.o \
        KWQKProcess.o \
        KWQKProtocolManager.o \
        KWQKScheduler.o \
        KWQKSimpleConfig.o \
        KWQKStringHandler.o \
        KWQKWin.o \
        KWQKWinModule.o \
        KWQLabel.o \
        KWQListBox.o \
        KWQLineEdit.o \
        KWQMovie.o \
        KWQNSTextField.o \
        KWQObject.o \
	KWQPainter.o \
        KWQPaintDevice.o \
        KWQPaintDeviceMetrics.o \
        KWQPalette.o \
        KWQPart.o \
	KWQPen.o \
	KWQPixmap.o \
	KWQPointArray.o \
	KWQPushButton.o \
	KWQRadioButton.o \
	KWQScrollView.o \
	KWQStyle.o \
	KWQTextEdit.o \
	KWQTextArea.o \
	KWQTimer.o \
	KWQToolTip.o \
	KWQVariant.o \
	KWQView.o \
	KWQWMatrix.o \
	KWQWidget.o \
	KWQxml.o \
	KWQChar.o \
	KWQString.o \
	KWQCString.o \
	KWQRegion.o \
        KWQDateTime.o \
        KWQKloader.o \
	$(NULL)

MOBJECTS = \
	$(NULL)

EXPORT_HEADERS = $(HEADERS)

OBJECTS = $(MMOBJECTS) $(MOBJECTS)
EXPORT_OBJECTS = $(OBJECTS)

EXPORT_HEADERS_DIR = $(TOPSRCDIR)/WebCore/include/private
EXPORT_OBJECTS_DIR = $(TOPSRCDIR)/WebCore/lib

LIBRARY = libkwq.a

CLEAN_FILES = $(OBJECTS) \
	$(LIBRARY) \
	$(NULL)

#----------------------------------------------------------------------
# Set flags for this directory

CMMFLAGS = $(BASECMMFLAGS) \
    -g \
    -I$(TOPSRCDIR) \
    -I$(TOPSRCDIR)/WebCore/include \
    -I$(TOPSRCDIR)/WebCore/src/kdelibs/khtml \
    -I$(TOPSRCDIR)/WebCore/src/kdelibs/khtml/dom \
    -I$(TOPSRCDIR)/WebCore/src/kdelibs/khtml/html \
    -I$(TOPSRCDIR)/WebCore/src/kdelibs/khtml/misc \
    -I$(TOPSRCDIR)/WebCore/src/kdelibs/khtml/xml \
    -I$(TOPSRCDIR)/WebCore/src/kwq \
    -I$(TOPSRCDIR)/WebCore/src/kwq/dcop \
    -I$(TOPSRCDIR)/WebCore/src/kwq/qt \
    -I$(TOPSRCDIR)/WebCore/src/kwq/kde \
    -I$(TOPSRCDIR)/WebCore/src/kwq/kdecore \
    -I$(TOPSRCDIR)/WebCore/src/kwq/kdeui \
    -I$(TOPSRCDIR)/WebCore/src/kwq/kfile \
    -I$(TOPSRCDIR)/WebCore/src/kwq/khtml \
    -I$(TOPSRCDIR)/WebCore/src/kwq/khtml/java \
    -I$(TOPSRCDIR)/WebCore/src/kwq/kio \
    -I$(TOPSRCDIR)/WebCore/src/kwq/kparts \
    -I. \
    $(NULL)

DEPFLAGS = $(CMMFLAGS)

CMFLAGS = $(BASECMFLAGS) \
    -I$(TOPSRCDIR) \
    -I$(TOPSRCDIR)/WebCore/src/kdelibs/khtml \
    -I$(TOPSRCDIR)/WebCore/src/kwq \
    -I$(TOPSRCDIR)/WebCore/src/kwq/qt \
    -I$(TOPSRCDIR)/WebCore/src/kwq/kde \
    -I$(TOPSRCDIR)/WebCore/src/kwq/kdecore \
    -I. \
    $(NULL)

DEPFLAGS = $(CMFLAGS)

#----------------------------------------------------------------------
# Set targets for this directory

all: $(OBJECTS) export-headers export-objects 

$(LIBRARY): $(OBJECTS)
	$(AR) $(ARFLAGS) $(LIBRARY) $(OBJECTS)
	$(RANLIB) $(LIBRARY)

#----------------------------------------------------------------------
# include make rules boilerplate

include $(TOPSRCDIR)/Makefile.rules

#======================================================================
# end
#======================================================================
