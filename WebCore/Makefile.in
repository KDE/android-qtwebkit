#======================================================================
#
# Top-level Makefile for WebPageView
#
# $RCSfile$
# $Revision$
# $Author$
# $Date$
#
#======================================================================
# Include header

TOPSRCDIR = .
include $(TOPSRCDIR)/Makefile.vars

#----------------------------------------------------------------------
# Subdirectories to build

SUBDIRS = \
	src/kdelibs/kjs \
	src/kdelibs/kdecore \
	src/kdelibs/khtml/misc \
	src/kdelibs/khtml/css \
	src/kdelibs/khtml/dom \
	src/kdelibs/khtml/ecma \
	src/kdelibs/khtml/xml \
	src/kdelibs/khtml/java \
	src/kdelibs/khtml/html \
	src/kdelibs/khtml/rendering \
	src/kwq/ \
	src/kwq/qt \
	src/kwq/tests \
	src/kwq/tests/qt \
	$(NULL)

#----------------------------------------------------------------------
# Standard targets

all depend setup install clean distclean maintainer-clean:		
	@target=$@; \
	list='$(SUBDIRS)'; \
	for subdir in $$list; do \
	  echo ">>> Making $$target in $$subdir"; \
	  (cd $$subdir && $(MAKE) $$target) || \
		case "$$amf" in \
			*=*) exit 1;; \
			*k*) fail=yes;; \
			*) exit 1;; \
		esac; \
	done; \
	echo ">>> Making local-$$target in `pwd`"; \
	$(MAKE) local-$$target; \
	$(NULL)	

#----------------------------------------------------------------------
# Custom targets

test:
	cd src/kwq/tests && \
	$(MAKE) && \
	./harness

local-all:
local-dep:
local-install:
local-setup:
local-depend:
local-clean:
	
local-distclean:
	${MAKE} local-clean
	rm -rf Makefile \
	Makefile.rules \
	Makefile.vars \
	config.h \
	config.cache \
	config.log \
	config.status \
	$(NULL)
	
local-maintainer-clean:
	rm -f configure;
	${MAKE} local-distclean

#======================================================================
# end
#======================================================================

