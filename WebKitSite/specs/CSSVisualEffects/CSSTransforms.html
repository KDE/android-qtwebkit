<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
  <head>
    <title>
      CSS Transforms
    </title>
    <link href="base.css" rel="stylesheet" type="text/css">
    <style type="text/css">

    @media print {

    .dlink { display: none }

    div.navbar {
    display: none;
    }

    html { margin: 0 !important }
    body { font-family: serif }
    th, td { font-family: inherit }
    a { color: inherit !important }
    div.example:before { font-family: serif !important }
    pre.example:before { font-family: serif !important }
    a:link, a:visited { text-decoration: none !important }
    a:link:after, a:visited:after { /* create a cross-ref "see..." */ }
    }
    @page {
    margin: 1.5cm 1.1cm;
    }

    /* html body { margin-left: 8.5em } /* Overrides 70px in base.css */

    body {counter-reset: exampleno figure}

    h2, h3, h5, h6 { margin-top: 2em }
    h1, h2, h3, h4, h5, h6 { page-break-after: avoid; font-family: inherit }
    div.figure, div.sidefigure, pre, table.propdef, table.propdef-extra,
    div.example { page-break-inside: avoid }
    dt { page-break-after: avoid }

    span.id {float: right; font-weight: bold}

    /* p, p.note + p, p.testlink + p, p.note, p.issue { */
    p, p.testlink + p, p.issue, p.mtb {
    margin-bottom: 0.6em;
    margin-top: 0.6em
    }
    p + p, p + div.sidefigure + p {
    margin-top: 0
    }
    dd p {
    margin-top: 0
    }

    h1 + h2 {
    margin-top: 0;
    }

    pre {
    text-align: left; /* fixes justification in Mac IE 5 */
    text-indent: 0;   /* fixes indent in Mac Netscape 6 */
    margin-top: 1em;
    margin-bottom: 1em;
    font-size: 90% /*smaller*/;
    }
    /*
    var {
    font-style: normal;
    }
    */
    img {
    border-style: none;
    color: white;
    }
    .toc {
    text-indent: 0;
    }


    @media all { /* NS < 6 doesn't like borders around inline elements... */

    body {
    line-height: 1.3;
    }

    a:link, a:visited {
    /*        color: inherit;*/
    }
    a.logo:link, a.logo:visited {
    padding: 0;
    border-style: none;
    }

    /* Hmm, this seems to confuse many browsers... */
    dt { margin-left: 0 }
    dd { margin-left: 2em }
    dl, ul, ol { margin-left: 0; padding-left: 0 }
    li { margin-left: 2em; padding-left: 0 }

    }
    ul.indexlist { margin-left: 0; /*column-width: 13em; columns: 13em*/ }
    ul.indexlist li { margin-left: 0; list-style: none }
    ul.indexlist li li { margin-left: 1em }

    div.example:before {
    content: "Example";
    content: "Example " counter(exampleno, upper-roman);
    font: bold small sans-serif;
    /*float: left;*/
    position: absolute;
    top: -0.6em;
    left: -2.5em;
    width: 7.5em;
    text-align: center;
    line-height: 1em;
    color: #FFF8DD;
    background: #600;
    padding: 0.1em;
    border: thin solid #999;
    /*margin: -1.3em 0 0.3em -2.5em;*/
    }
    div.example {
    counter-increment: exampleno;
    }
    pre.example:before {
    content: "Example";
    content: "Example " counter(exampleno, upper-roman);
    font: bold small sans-serif;
    /*float: left;*/
    position: absolute;
    top: -0.6em;
    left: -2.5em;
    width: 7.5em;
    text-align: center;
    line-height: 1em;
    color: #FFF8DD;
    background: #600;
    padding: 0.1em;
    border: thin solid #999;
    /*margin: -1.3em 0 0.3em -2.5em;*/
    }
    pre.example {
    counter-increment: exampleno;
    }
    div.example, div.illegal-example, div.html, div.illegal-html, div.xml,
    div.illegal-xml, pre.example, pre.illegal-example, pre.html,
    pre.illegal-html, pre.xml, pre.illegal-xml {
    background: #FFF8DD;
    padding: 0.5em;
    margin: 1em 0;
    border: thin solid #999;
    position: relative;
    }
    pre.example, pre.illegal-example, pre.html,
    pre.illegal-html, pre.xml, pre.illegal-xml {
    padding-top: 1.5em;
    }
    div.example { color: #600 }
    pre.example { color: #600 }
    pre.illegal-example { color: red }
    div.illegal-example { color: red }
    div.illegal-example p { color: black }

    div.html { color: #600 }
    pre.html { color: #600 }
    pre.illegal-html { color: red }
    div.illegal-html { color: red }
    div.illegal-html p { color: black }
    pre.deprecated-html { color: red }
    div.deprecated-html { color: red }
    div.deprecated-html p { color: black }

    div.xml { color: #600 }
    pre.xml { color: #600 }
    pre.illegal-xml { color: red }
    div.illegal-xml { color: red }
    div.illegal-xml p { color: black }

    code { font-size: 90% }
    .css { color: #800 }        /* inline CSS code (SPAN/CODE) */
    code.css { font-family: inherit; font-size: 100% }
    code.html { color: #600 }   /* inline HTML */
    code.xml { color: #600 }    /* inline XML */
    .property { }           /* name of a CSS property (SPAN) */
    .prop-name { color: #2A2AA5; font-weight: bold; font-size: 90%} /* name of a CSS property (SPAN) */
    .prop-value { font-weight: bold; font-size: 90%} /* CSS property value (SPAN) */
    .descriptor { }         /* name of a CSS descriptor (SPAN) */
    .issue { color: #c00 }      /* editorial remark, open issue */
    .type { font-style: italic }    /* A <type> value for a property */

    dfn { font-weight: bolder; /*font-size: 1em*/ }

    /* Class note is a non-normative note. May be inline or a P or DIV */
    .note {
    /* font-weight: bold; */
    color: green
    }
    p.note, div.note {
    /* margin: 1em 2em; */
    }
    p.note:before, span.note:before { content: "\25B6" " " }
    div.note > p:first-child:before { content: "\25B6" " " }

    .normref { color: red } 
    .informref { color: green } 


    /* ToC not indented, but font style shows hierarchy */
    ul.toc {margin: 1em 0; padding: 0; font-weight: bold}
    ul.toc ul {margin: 0; padding: 0; font-weight: normal}
    ul.toc ul ul {margin: 0 /*0 0 2em*/; font-style: italic}
    ul.toc ul ul ul {margin: 0}
    ul.toc li {margin: 0.6em 0; padding: 0}
    ul.toc li li {margin: 0}
    /*
    ul.toc li li li, ul.toc li li li ul {margin-left: 0; display: inline}
    ul.toc li li li ul, ul.toc li li li ul li {margin-left: 0; display: inline}
    */

    @media all { /* NS4 doesn't align the floats properly :-( */

    /* Section numbers in a column of their own */
    ul.toc span.secno {margin-right: 1em} /* workaround for Opera6 */
    ul.toc span.secno {float: left; width: 4em; margin-left: -5em}
    /*ul.toc span.secno {text-align: right}*/
    ul.toc li {clear: both}
    ul.toc {margin-left: 5em}
    /* If we had 'tab', floats would not be needed here:
    ul.toc span.secno {tab: 5em right; margin-right: 1em}
    ul.toc li {text-indent: 5em hanging}
    The second line in case items wrap
    */
    }

    ul.index {
    list-style: disc;     /* Mac NS has problem with 'none' */
    list-style: none;
    }

    s, del {text-decoration: line-through; color: red}
    u, ins {text-decoration: underline; background: #bfa}

    div.figure, div.sidefigure {
    text-align: center;
    margin: 2.5em 0;
    }
    div.sidefigure {
    float: right;
    width: 50%;
    margin: 0 0 0.5em 0.5em
    }
    div.figure img, div.sidefigure img {
    display: block;
    margin: auto;
    max-width: 100%
    }
    p.caption, caption {
    text-align: center;
    font-style: italic;
    font-size: 90%;
    margin: 1.5em 2em;
    text-indent: 0;
    }
    p.caption:before {
    content: "Figure " counter(figure) ". ";
    font-weight: bold;
    }
    p.caption {
    counter-increment: figure;
    }

    /* DL list is indented, but figure inside it is not */
    dd { margin-left: 2em }
    dd div.figure { margin-left: -2em }

    sup {
    vertical-align: super;
    font-size: 80%
    }

    /* "Equations" (not real MathML, but simple HTML) are put in a
    blockquote and may have an equation number. We make sure the
    blockquote has enough margin on the right and then put the equation
    number there. */

    blockquote {
    margin: 0.5em 4em 0.5em 2em;
    text-indent: 0;
    }
    .eqno {
    text-align: right;
    float: right;
    width: 3em;
    margin: 0 -4em 0 0;
    font-weight: bold;
    /* background: silver; color: black; padding: 0.1em */
    }

    table.equiv-table { border-spacing: 0; margin: 0.5em 0 }
    table.equiv-table th, table.equiv-table td { padding: 0.3em }
    table.equiv-table th { text-align: left }
    /* table.equiv-table th:first-child { text-align: right } */
    table.equiv-table td, table.equiv-table th { border-bottom: thin solid #666 }
    table.equiv-table { border-bottom: hidden }
    table.equiv-table { empty-cells: show }
    table.equiv-table caption { margin: 0.5em 0 0 0 }

    /* Style for table of properties */
    table.proptable {
    font-size: small;
    border-collapse: collapse;
    border-spacing: 0;
    text-align: left;
    margin: 1em 0;
    }

    @media print {          /* Use the wide margin in print */
    table.proptable {margin: 1em 0 1em -8.5em}
    }

    table.proptable td, table.proptable th {
    padding: 0.4em;
    border-style: solid none none dotted;
    border-width: thin;
    border-color: red;
    }
    table.proptable th:first-child, table.proptable td:first-child {
    border-left-style: none;
    }


    /* Style for table that defines a property or a descriptor */
    table.propdef, table.propdef-extra, table.descdef {
    border-spacing: 0;
    border-collapse: collapse;
    width: 100%;
    table-layout: fixed;
    background: #DEF;
    margin-top: 1.2em;
    margin-bottom: 1.2em
    }
    table.propdef td, table.propdef-extra td, table.descdef td {
    padding: 0 0.3em;
    vertical-align: baseline;
    }
    /*
    table.propdef dfn, table.propdef-extra dfn, table.descdef dfn {
    font-weight: bold;
    font-style: normal
    }
    */
    table.propdef td:first-child,
    table.propdef-extra td:first-child,
    table.descdef td:first-child {
    font-style: italic;
    width: 8.1em
    }
    table.propdef td[colspan]:first-child,
    table.propdef-extra td[colspan]:first-child,
    table.descdef td[colspan]:first-child {
    font-style: inherit
    }
    table.propdef tr:first-child,
    table.propdef-extra tr:first-child,
    table.descdef tr:first-child {
    background: #005A9C;
    color: white
    }
    /* table.propdef tr:first-child td { padding-top: 0.1em; padding-bottom: 0.1em } */

    /* This would replace :first-child for Opera, but it confuses WinIE :-( */
    /*
    table.propdef td { width: 8em }
    table.propdef td + td { width: auto }
    table.propdef tr { background: #005A9C; color: white }
    table.propdef tr + tr { background: transparent; color: black }
    */

    /* CSS modules typically don't use MUST, SHOULD etc. from RFC 2119,
    or, if they do, they don't put them in uppercase. But the following
    class is provided in case a spec wants to use RFC 2119 terms in
    uppercase in the source. */

    em.rfc2119 {
    text-transform: lowercase;
    font-variant: small-caps;
    font-style: normal
    }

    /* In Profile specs, a table of required features: */

    table.features th {
    background: #00589f;
    color: #fff;
    text-align: left;
    padding: 0.2em 0.2em 0.2em 0.5em;
    }
    table.features td {
    vertical-align: top;
    border-bottom: 1px solid #ccc;
    padding: 0.3em 0.3em 0.3em 0.7em;
    }

    body { line-height: 1.4; }

    .issue, .todo {
    margin: 1em;
    border: 2px solid;
    padding: 1em;
    }
    span.issue, span.todo {
    border-width: 1px;
    margin: 0; padding: 0;
    }
    .issue { border-color: red; }
    .todo  { border-color: yellow; }
    .issue:before, .todo:before {
    content: attr(class) ": ";
    text-transform: uppercase;
    font-weight: bold;
    }
    .issue { background: rgb(255,224,224); color: black; }
    .todo { background: rgb(255,255,192); color: black; }

    .syntax {
    padding: 1em;
    margin: 1em 0;
    border: 1px black solid;
    background: rgb(224,224,255);
    color: black;
    }
    .idl-code { 
    margin: 0;
    font-family: monospace;
    border: 1px solid black;
    color: black; 
    background-color: #dfdfdf;
    padding: 0;
    }
    </style>
  </head>
  <body>
    <h1>
      CSS Transforms
    </h1>
    <h2>
      3 December 2008
    </h2>
    <dl>
      <dt>
        Authors:
      </dt>
      <dd>
        Dave Hyatt (<a href="mailto:hyatt@apple.com">hyatt@apple.com</a>), <a href="http://www.apple.com/">Apple</a>
      </dd>
      <dd>
        Dean Jackson (<a href="mailto:dino@apple.com">dino@apple.com</a>), <a href="http://www.apple.com/">Apple</a>
      </dd>
      <dd>
        Chris Marrin (<a href="mailto:cmarrin@apple.com">cmarrin@apple.com</a>), <a href="http://www.apple.com/">Apple</a>
      </dd>
    </dl>

    <p>
      A <a href="ChangeLog">list of changes</a> for this document is available.
    </p>

    <h2>
      Contents
    </h2>
    
    <ul class="toc">
      <li>
        <a href="#introduction">1 Introduction</a>
      </li>
      <li>
        <a href="#transform-property">2 The <span class="prop-name">'transform'</span> Property</a>
      </li>
      <li>
        <a href="#transform-origin-property">3 The <span class="prop-name">'transform-origin'</span> Property</a>
      </li>
      <li>
        <a href="#transform-functions">4 The Transformation Functions</a>
      </li>
      <li>
        <a href="#transform-values">5 Transform Values and Lists</a>
      </li>
      <li>
        <a href="#animation">6 Transitions and Animations Between Transform Values</a>
      </li>
      <li>
        <a href="#dom-interfaces">7 DOM Interfaces</a>
        <ul class="toc">
          <li>
            <a href="#point-interface">7.1 Point</a>
          </li>
          <li>
            <a href="#window-interface">7.2 Window</a>
          </li>
          <li>
            <a href="#cssmatrix-interface">7.3 CSSMatrix</a>
          </li>
          <li>
            <a href="#csstransformvalue-interface">7.4 CSSTransformValue</a>
          </li>
        </ul>
      </li>
    </ul>
    
    
    <h2 id="introduction">
      1 Introduction
    </h2>
    
    <p>
      The CSS <a href="http://www.w3.org/TR/REC-CSS2/visuren.html">visual
      formatting model</a> describes a coordinate system within which each
      element is positioned. Positions and sizes in this coordinate space can
      be thought of as being expressed in pixels, starting in the upper left
      corner of the parent with positive values proceeding to the right and
      down.
    </p>
    <p>
      This coordinate space can be modified with the <span
      class="prop-name">'transform'</span> property. Using transform, elements
      can be translated, rotated and scaled in two dimensional space.
      The coordinate space
      behaves as described in the <a
      href="http://www.w3.org/TR/SVG/coords.html#EstablishingANewUserSpace">coordinate
      system transformations</a> section of the SVG 1.1 specification. This is
      a coordinate system with two axes: the X axis increases horizontally to
      the right; the Y axis increases vertically downwards.
    </p>
    <p>
      Specifying a value other than 'none' for the <span
      class="prop-name">'transform'</span> property establishes a new
      <em>local coordinate system</em> at the element that it is applied to.
      Transformations are cumulative. That is, elements establish their local
      coordinate system within the coordinate system of their parent. In this
      way, a <span class="prop-name">'transform'</span> property effectively
      accumulates all the <span class="prop-name">'transform'</span>
      properties of its ancestors. The accumulation of these transforms
      defines a <em>current transformation matrix (CTM)</em> for the element.
    </p>
    <p>
      The transform property does not affect the flow of the content
      surrounding the transformed element. However, the value of the overflow
      area takes into account transformed elements. This behavior is similar
      to what happens when elements are translated via relative positioning.
      Therefore, if the value of the <span class="prop-name">'overflow'</span>
      property is <span class="prop-value">'scroll'</span> or <span
      class="prop-value">'auto'</span>, scrollbars will appear as needed to
      see content that is transformed outside the visible area.
    </p>
    <p>
      Any value other than 'none' for the transform results in the creation of
      both a stacking context and a containing block. The object acts as
      though position: relative has been specified, but also acts as a
      containing block for fixed positioned descendants.
    </p>
    <div class="todo">
      Need to go into more detail here about why fixed positioned objects
      should do this, i.e., that it's much harder to implement otherwise.
    </div>
    <div class="issue">
      Transforms should perhaps be allowed to affect layout. Using the
      position property to do this seems to be the logical choice, but there
      are lots of questions about how this would work.
    </div>
    <div class="issue">
      What do fixed backgrounds do in transforms? They should probably ignore
      the transform completely, since - even transformed - the object should
      be acting as "porthole" through which the fixed background can be viewed
      in its original form.
    </div>
    <div class="issue">
      This property should also be applicable to SVG elements.
    </div>
    <div class="issue">
      We also need to specify that SVG transforms *do* combine with this
      transform, e.g., if a &lt;foreignObject&gt; is inside transformed SVG
      and then defines a transform of its own. This means we may potentially
      have to examine the current SVG transform and combine with it to set the
      correct transform.
    </div><!-- ======================================================================================================= -->
    <h2 id="transform-property">
      2 The <span class="prop-name">'transform'</span> Property
    </h2>
    <p>
      A two-dimensional transformation is applied to an element through the <span
      class="prop-name">'transform'</span> property. This property contains a
      list of <a href="#transform-functions">transform functions</a>. The
      final transformation value for an element is obtained by performing a
      matrix concatenation of each entry in the list. The set of transform
      functions is similar to those allowed by SVG.
    </p>
    <table class="propdef">
      <tbody>
        <tr>
          <td>
            <em>Name:</em>
          </td>
          <td>
            <dfn id="effects">transform</dfn>
          </td>
        </tr>
        <tr>
          <td>
            <em>Value:</em>
          </td>
          <td>
            none | &lt;transform-function&gt; [ &lt;transform-function&gt; ]*
          </td>
        </tr>
        <tr>
          <td>
            <em>Initial:</em>
          </td>
          <td>
            none
          </td>
        </tr>
        <tr>
          <td>
            <em>Applies&nbsp;to:</em>
          </td>
          <td>
            block-level and inline-level elements
          </td>
        </tr>
        <tr>
          <td>
            <em>Inherited:</em>
          </td>
          <td>
            no
          </td>
        </tr>
        <tr>
          <td>
            <em>Percentages:</em>
          </td>
          <td>
            refer to the size of the element's box
          </td>
        </tr>
        <tr>
          <td>
            <em>Media:</em>
          </td>
          <td>
            visual
          </td>
        </tr>
        <tr>
          <td>
            <em>Computed value:</em>
          </td>
          <td>
            Same as specified value.
          </td>
        </tr>
      </tbody>
    </table><!-- ======================================================================================================= -->
    <h2 id="transform-origin-property">
      3 The <span class="prop-name">'transform-origin'</span> Property
    </h2>
    <p>
      The <span class="prop-name">'transform-origin'</span> property
      establishes the origin of transformation for an element. This property
      is applied by first translating the element by the negated value of the
      property, then applying the element's transform, then translating by the
      property value. This effectively moves the desired transformation origin
      of the element to (0,0) in the local coordinate system, then applies
      the element's transform, then moves the element back to its original
      position.
    </p>
    <table class="propdef">
      <tbody>
        <tr>
          <td>
            <em>Name:</em>
          </td>
          <td>
            <dfn id="transform-origin">transform-origin</dfn>
          </td>
        </tr>
        <tr>
          <td>
            <em>Value:</em>
          </td>
          <td>
            [ [ &lt;percentage&gt; | &lt;length&gt; | left | center | right ] [
            &lt;percentage&gt; | &lt;length&gt; | top | center | bottom ]? ] | [ [ left |
            center | right ] || [ top | center | bottom ] ]
          </td>
        </tr>
        <tr>
          <td>
            <em>Initial:</em>
          </td>
          <td>
            50% 50%
          </td>
        </tr>
        <tr>
          <td>
            <em>Applies&nbsp;to:</em>
          </td>
          <td>
            block-level and inline-level elements
          </td>
        </tr>
        <tr>
          <td>
            <em>Inherited:</em>
          </td>
          <td>
            no
          </td>
        </tr>
        <tr>
          <td>
            <em>Percentages:</em>
          </td>
          <td>
            refer to the size of the element's box
          </td>
        </tr>
        <tr>
          <td>
            <em>Media:</em>
          </td>
          <td>
            visual
          </td>
        </tr>
        <tr>
          <td>
            <em>Computed value:</em>
          </td>
          <td>
            For &lt;length&gt; the absolute value, otherwise a percentage
          </td>
        </tr>
      </tbody>
    </table>

    <!-- ======================================================================================================= -->

    <h2 id="transform-functions">
      4 The Transformation Functions
    </h2>
    <p>
      The value of the <span class="prop-name">transform</span> property is a
      list of &lt;transform-functions&gt;, applied in the order provided. The
      individual transform functions are separated by whitespace. The
      following is a list of allowed transform functions. In this list the
      type &lt;translation-value&gt; is defined as a &lt;length&gt; or
      &lt;percentage&gt; value, and the &lt;angle&gt; type is defined by <a
      href="http://www.w3.org/TR/css3-values/">CSS Values and Units.</a>
    </p>
    <dl>
      <dt>
        <span class="prop-value">none</span>
      </dt>
      <dd>
        specifies an identity transform.
      </dd>
      <dt>
        <span class="prop-value">matrix(&lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;)</span>
      </dt>
      <dd>
        specifies a 2D transformation in the form of a <a href="http://www.w3.org/TR/SVG/coords.html#TransformMatrixDefined">transformation matrix</a> of six values. <span class="prop-value">matrix(a,b,c,d,e,f)</span> is equivalent to applying the transformation matrix <strong>[a b c d e f]</strong>.
      </dd>
      <dt>
        <span class="prop-value">translate(&lt;translation-value&gt;[, &lt;translation-value&gt;])</span>
      </dt>
      <dd>
        specifies a <a href="http://www.w3.org/TR/SVG/coords.html#TranslationDefined">2D translation</a> by the vector [tx, ty], where tx is the first translation-value parameter and ty is the optional second translation-value parameter. If <em>&lt;ty&gt;</em> is not provided, ty has zero as a value.
      </dd>
      <dt>
        <span class="prop-value">translateX(&lt;translation-value&gt;)</span>
      </dt>
      <dd>
        specifies a <a href="http://www.w3.org/TR/SVG/coords.html#TranslationDefined">translation</a> by the given amount in the X direction.
      </dd>
      <dt>
        <span class="prop-value">translateY(&lt;translation-value&gt;)</span>
      </dt>
      <dd>
        specifies a <a href="http://www.w3.org/TR/SVG/coords.html#TranslationDefined">translation</a> by the given amount in the Y direction.
      </dd>
      <dt>
        <span class="prop-value">scale(&lt;number&gt;[, &lt;number&gt;])</span>
      </dt>
      <dd>
        specifies a <a href="http://www.w3.org/TR/SVG/coords.html#ScalingDefined">2D scale</a> operation by the [sx,sy] scaling vector described by the 2 parameters. If the second parameter is not provided, it is takes a value equal to the first.
      </dd>
      <dt>
        <span class="prop-value">scaleX(&lt;number&gt;)</span>
      </dt>
      <dd>
        specifies a scale operation using the [sx,1] scaling vector, where sx is given as the parameter.
      </dd>
      <dt>
        <span class="prop-value">scaleY(&lt;number&gt;)</span>
      </dt>
      <dd>
        specifies a scale operation using the [1,sy] scaling vector, where sy is given as the parameter.
      </dd>
      <dt>
        <span class="prop-value">rotate(&lt;angle&gt;)</span>
      </dt>
      <dd>
        specifies a <a href="http://www.w3.org/TR/SVG/coords.html#RotationDefined">2D rotation</a> by the angle specified in the parameter about the origin of the element, as defined by the <em>transform-origin</em> property.
      </dd>
      <dt>
        <span class="prop-value">skewX(&lt;angle&gt;)</span>
      </dt>
      <dd>
        specifies a <a href="http://www.w3.org/TR/SVG/coords.html#SkewXDefined">skew transformation along the X axis</a> by the given angle.
      </dd>
      <dt>
        <span class="prop-value">skewY(&lt;angle&gt;)</span>
      </dt>
      <dd>
        specifies a <a href="http://www.w3.org/TR/SVG/coords.html#SkewYDefined">skew transformation along the Y axis</a> by the given angle.
      </dd>
      <dt>
        <span class="prop-value">skew(&lt;angle&gt; [, &lt;angle&gt;])</span>
      </dt>
      <dd>
        specifies a <a
        href="http://www.w3.org/TR/SVG/coords.html#SkewXDefined">skew
        transformation along the X and Y axes</a>. The first angle parameter
        specifies the skew on the X axis. The second angle parameter specifies
        the skew on the Y axis. If the second parameter is not given then a
        value of 0 is used for the Y angle (ie. no skew on the Y axis).
      </dd>
    </dl>
    <h2 id="transform-values">
      5 Transform Values and Lists
    </h2>
    <p>
      The &lt;translation-value&gt; values are defined as [&lt;percentage&gt; | &lt;length&gt;]. All other value types are described <a href="http://www.w3.org/TR/REC-CSS2/syndata.html#values">as CSS types</a>. If a list of transforms is provided, then the net effect is as if each transform had been specified separately in the order provided. For example,
    </p>
    <pre>
&lt;div style="transform:translate(-10px,-20px) scale(2) rotate(45deg) translate(5px,10px)"/&gt;
</pre>
    <p>
      is functionally equivalent to:
    </p>
    <pre>
&lt;div style="transform:translate(-10px,-20px)"&gt;
  &lt;div style="transform:scale(2)"&gt;
    &lt;div style="transform:rotate(45deg)"&gt;
      &lt;div style="transform:translate(5px,10px)"&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</pre>
    <div class="example">
      <pre>
div {
    transform: translate(100px, 100px);
}
</pre>Move the element by 100 pixels in both the X and Y directions.
      <div class="figure">
        <img src="transform1.png" alt="The 100px translation in X and Y">
      </div>
    </div>
    <div class="example">
      <pre>
div {
    height: 100px; width: 100px;
    transform: translate(80px, 80px) scale(1.5, 1.5) rotate(45deg);
}
</pre>Move the element by 80 pixels in both the X and Y directions, then scale the element by 150%, then rotate it 45 degrees clockwise about the Z axis. Note that the scale and rotate operate about the center of the element, since the element has the default transform-origin of 50% 50%.
      <div class="figure">
        <img src="compound_transform.png" alt="The transform specified above">
      </div>
    </div>
<!-- ======================================================================================================= -->

    <h2 id="animation">
      6 Transitions and animations between transform values
    </h2>

    <p>
      When animating or transitioning the value of a transform property
      the rules described below are applied. The 'from' transform is
      the transform at the start of the transition or current keyframe. The
      'end' transform is the transform at the end of the transition or
      current keyframe.
    </p>

    <ul>
      <li>
        If the 'from' and 'to' transforms are both single functions
        of the same type:
        <ul>
          <li>
            For translate, translateX, translateY, translateZ, scale,
            scaleX, scaleY, rotate, skewX and skewY functions:
              <ul>
                <li>
                  the individual components of the function are
                  interpolated numerically.
                </li>
              </ul>
          </li>
          <li>
            For matrix:
              <ul>
                <li>
                  the matrix is
                  decomposed using <a
                  href="http://tog.acm.org/GraphicsGems/gemsii/unmatrix.c">the
                  method described by unmatrix</a> into separate translation,
                  scale, rotation and skew matrices, then each
                  decomposed matrix is interpolated numerically, and finally
                  combined in order to produce a resulting 3x2 matrix.
                </li>
              </ul>
          </li>
        </ul>
      </li>
      <li>
        If both the 'from' and 'to' transforms are "none":
        <ul>
          <li>
            There is no interpolation necessary
          </li>
        </ul>
      </li>
      <li>
        If one of the 'from' or 'to' transforms is "none":
        <ul>
          <li>
            The 'none' is replaced by an equivalent identity function list for
            the corresponding transform function list.
            <p>
              For example, if the 'from' transform is "scale(2)" and the 'to'
              transform is "none" then the value "scale(1)" will be used as the
              'to' value, and animation will proceed using the rule above.
              Similarly, if the 'from' transform is "none" and the 'to' transform
              is "scale(2) rotate(50deg)" then the animation will execute as
              if the 'from' value is "scale(1) rotate(0)".
            </p>
            <p>
              The identity functions are translate(0), 
              translateX(0), translateY(0), scale(1),
              scaleX(1), scaleY(1), rotate(0),
              rotateX(0), rotateY(0), skewX(0), skewY(0),
              and matrix(1, 0, 0, 1, 0, 0).
            </p>
          </li>
        </ul>
      </li>
      <li>
        If both the 'from' and 'to' transforms have the same number of
        transform functions and corresponding functions in each transform
        list are of the same type:
        <ul>
          <li>
            Each transform function is animated with its corresponding
            destination function in isolation using the rules described above.
            The individual values are then applied as a list to produce
            resulting transform value.
          </li>
        </ul>
      </li>
      <li>
        Otherwise:
        <ul>
          <li>
            The transform function lists are each converted into the
            equivalent matrix value and animation proceeds using the rule
            for a single function above.
          </li>
        </ul>
      </li>
    </ul>

    <h2 id="dom-interfaces">
      7 DOM Interfaces
    </h2>
    <p>
      This section describes the interfaces and functionality added to the DOM
      to support runtime access to the functionality described above.
    </p>

    <h3 id="point-interface">
      7.1 Point
    </h3>

    <dl>
      <dt>
        <b>Interface <i><a id="DOM-Point" name='DOM-Point'>Point</a></i></b>
      </dt>
      <dd>
        <p>
          The <code>Point</code> interface represents a point in two-dimensional space.
        </p>
        <dl>

          <dt>
            <b>IDL Definition</b>
          </dt>
          <dd>
            <div class='idl-code'>
              <pre>
interface Point {
    attribute float x;
    attribute float y;
};</pre>
            </div>
          </dd> <!-- IDL -->

          <dt>
            <b>Attributes</b>
          </dt>
          <dd>
            <dl>
              <dt>
                <code class='attribute-name'><a id="DOM-Point-x" name='DOM-Point-x'>x</a></code> of type <code>float</code>
              </dt>
              <dd>
                The value of the point along the X dimension.
              </dd>
              <dt>
                <code class='attribute-name'><a id="DOM-Point-y" name='DOM-Point-y'>y</a></code> of type <code>float</code>
              </dt>
              <dd>
                The value of the point along the Y dimension.
              </dd>
            </dl>
          </dd> <!-- Attributes -->

        </dl>
      </dd> <!-- interface Point -->
    </dl>

      <!-- ====================================================================== -->
    <h3 id="window-interface">
      7.2 Window
    </h3>

    <dl>
      <dt>
        <b>Interface <i><a id = "DOM-Window" name='DOM-Window'>Window</a></i></b>
      </dt>
      <dd>
        <p>
          The following 2 functions are added to the <code>Window</code> interface. They provide conversions between the page and node coordinate spaces.
        </p>
        <dl>

          <dt>
            <b>IDL Definition</b>
          </dt>
          <dd>
            <div class='idl-code'>
              <pre>
interface Window {
  ...
  Point convertPointFromPageToNode(in Node node, in Point point);
  Point convertPointFromNodeToPage(in Node node, in Point point);
  ...
};</pre>
            </div>
          </dd> <!-- IDL -->

          <dt>
            <b>Methods</b>
          </dt>
          <dd>
            <dl>
              <!-- ============================================================ -->
              <dt>
                <code class='method-name'><a id="DOM-Window-convertPointFromPageToNode" name='DOM-Window-convertPointFromPageToNode'>convertPointFromPageToNode</a></code>
              </dt>
              <dd>
                <div class='method'>
                  The <code>convertPointFromPageToNode</code> method returns a point in the coordinate space of the
                  passed Node that is at the same location in the page as the passed point, which is in the coordinate
                  space of the page.
                  <div class='parameters'>
                    <b>Parameters</b>
                    <div class='paramtable'>
                      <dl>
                        <dt>
                          <code class='parameter-name'>node</code> of type <code>Node</code>
                        </dt>
                        <dd>
                          The Node which defines the desired coordinate space of the returned point.<br>
                        </dd>
                       <dt>
                          <code class='parameter-name'>point</code> of type <code>Point</code>
                        </dt>
                        <dd>
                          The point, in the page's coordinate space, for which the desired point, in the Node's coordinate space, should be returned.<br>
                        </dd>
                      </dl>
                    </div>
                  </div><!-- parameters -->
                  <div class='return-value'>
                    <b>Return Value</b>
                  </div>
                   <div class='returnvalue'>
                      <dl>
                        <dt>
                          <code>Point</code>
                        </dt>
                        <dd>
                          The resultant point in the coordinate space of the passed Node.<br>
                        </dd>
                      </dl>
                    </div>
                  </div>
                  <div>
                    <b>No Exceptions</b>
                  </div>
                </div>
              </dd> <!-- convertPointFromPageToNode -->
              <!-- ============================================================ -->
              <dt>
                <code class='method-name'><a id="DOM-Window-convertPointFromNodeToPage" name='DOM-Window-convertPointFromNodeToPage'>convertPointFromNodeToPage</a></code>
              </dt>
              <dd>
                <div class='method'>
                  The <code>convertPointFromNodeToPage</code> method returns a point in the coordinate space
                  of the page that is at the same location in the page as the passed point, which is in
                  the coordinate space of the passed Node.
                  <div class='parameters'>
                    <b>Parameters</b>
                    <div class='paramtable'>
                      <dl>
                        <dt>
                          <code class='parameter-name'>node</code> of type <code>Node</code>
                        </dt>
                        <dd>
                          The Node which defines the coordinate space of the passed point.<br>
                        </dd>
                      <dt>
                          <code class='parameter-name'>point</code> of type <code>Point</code>
                        </dt>
                        <dd>
                          The point, in the Node's coordinate space, for which the desired point, in the page's coordinate space, should be returned.<br>
                        </dd>
                      </dl>
                    </div>
                  </div><!-- parameters -->
                  <div class='return-value'>
                    <b>Return Value</b>
                  </div>
                   <div class='returnvalue'>
                      <dl>
                        <dt>
                          <code>Point</code>
                        </dt>
                        <dd>
                          The resultant point in the coordinate space of the page.<br>
                        </dd>
                      </dl>
                    </div>
                  </div>
                  <div>
                    <b>No Exceptions</b>
                  </div>
                </div>
              </dd> <!-- convertPointFromNodeToPage -->
            </dl>
          </dd> <!-- Methods -->

        </dl>
      </dd> <!-- Interface Window -->
    </dl>

      <!-- ============================================================ -->
      
    <h3 id="cssmatrix-interface">
      7.3 CSSMatrix
    </h3>
    
    <dl>
      <dt>
        <b>Interface <i><a id="DOM-CSSMatrix" name='DOM-CSSMatrix'>CSSMatrix</a></i></b>
      </dt>
      <dd>
        <p>
          The <code>CSSMatrix</code> interface represents a 4x4 homogeneous matrix.
        </p>
        <dl>
          
          <dt>
            <b>IDL Definition</b>
          </dt>
          <dd>
            <div class='idl-code'>
              <pre>
interface CSSMatrix {
    attribute float a;
    attribute float b;
    attribute float c;
    attribute float d;
    attribute float e;
    attribute float f;
 
    void        setMatrixValue(in DOMString string) raises(DOMException);
    CSSMatrix   multiply(in CSSMatrix secondMatrix);
    CSSMatrix   inverse() raises(DOMException);
    CSSMatrix   translate(in float x, in float y);
    CSSMatrix   scale(in float scaleX, in float scaleY);
    CSSMatrix   rotate(in float angle);
};</pre>
            </div><br>
          </dd> <!-- IDL -->

          <dt>
            <b>Attributes</b>
          </dt>
          <dd>
            <dl>
              <dt>
                <code class='attribute-name'><a id="DOM-CSSMatrix-matrix" name='DOM-CSSMatrix-matrix'>a-f</a></code> of type <code>float</code>
              </dt>
              <dd>
                Each of these attributes represents one of the values in the 3x2 matrix.<br>
              </dd>
            </dl>
          </dd> <!-- Attributes -->
          
          <dt>
            <b>Methods</b>
          </dt>
          <dd>
            <dl>

              <!-- ===================================================== -->
              <dt>
                <code class='method-name'><a id="DOM-CSSMatrix-setMatrixValue" name='DOM-CSSMatrix-setMatrixValue'>setMatrixValue</a></code>
              </dt>
              <dd>
                <div class='method'>
                  The <code>setMatrixValue</code> method replaces the existing matrix with one computed from parsing the passed string
                  as though it had been assigned to the transform property in a CSS style rule.
                  <div class='parameters'>
                    <b>Parameters</b>
                    <div class='paramtable'>
                      <dl>
                        <dt>
                          <code class='parameter-name'>string</code> of type <code>DOMString</code>
                        </dt>
                        <dd>
                          The string to parse.<br>
                        </dd>
                      </dl>
                    </div>
                  </div><!-- parameters -->
                  <div class='return-value'>
                    <b>No Return Value</b>
                  </div>
                  <div>
                    <b>Exceptions</b>
                    <div class='returnvalue'>
                      <dl>
                        <dt>
                          <code>SYNTAX_ERR</code>
                        </dt>
                        <dd>
                          Thrown when the provided string can not be
                          parsed into a CSSMatrix.
                        </dd>
                      </dl>
                    </div>
                  </div>
                </div>
              </dd> <!-- setMatrixValue -->

              <!-- ===================================================== -->
              <dt>
                <code class='method-name'><a id="DOM-CSSMatrix-multiply" name='DOM-CSSMatrix-multiply'>multiply</a></code>
              </dt>
              <dd>
                <div class='method'>
                  The <code>multiply</code> method returns a new CSSMatrix which is the result of this matrix multiplied by the passed matrix, with the passed matrix to the right. This matrix is not modified.
                  <div class='parameters'>
                    <b>Parameters</b>
                    <div class='paramtable'>
                      <dl>
                        <dt>
                          <code class='parameter-name'>secondMatrix</code> of type <code>CSSMatrix</code>
                        </dt>
                        <dd>
                          The matrix to multipy.<br>
                        </dd>
                      </dl>
                    </div>
                  </div><!-- parameters -->
                  <div class='return-value'>
                    <b>Return Value</b>
                    <div class='returnvalue'>
                      <dl>
                        <dt>
                          <code>CSSMatrix</code>
                        </dt>
                        <dd>
                          The result matrix.<br>
                        </dd>
                      </dl>
                    </div>
                  </div>
                  <div>
                    <b>No Exceptions</b>
                  </div>
                </div>
              </dd> <!-- multiply() -->
              
              <!-- ===================================================== -->
              <dt>
                <code class='method-name'><a id="DOM-CSSMatrix-inverse" name='DOM-CSSMatrix-inverse'>inverse</a></code>
              </dt>
              <dd>
                <div class='method'>
                  The <code>inverse</code> method returns a new matrix which is the inverse of this matrix. This matrix is not modified.
                  <div class='parameters'>
                    <b>No Parameters</b>
                  </div><!-- parameters -->
                  <div class='return-value'>
                    <b>Return Value</b>
                    <div class='returnvalue'>
                      <dl>
                        <dt>
                          <code>CSSMatrix</code>
                        </dt>
                        <dd>
                          The inverted matrix.<br>
                        </dd>
                      </dl>
                    </div>
                  </div>
                  <div>
                    <b>Exceptions</b>
                    <div class='returnvalue'>
                      <dl>
                        <dt>
                          <code>NOT_SUPPORTED_ERROR</code>
                        </dt>
                        <dd>
                          Thrown when the CSSMatrix can not be
                          inverted.
                        </dd>
                      </dl>
                    </div>
                  </div>
                </div><!-- ======================================================================================================= -->
              </dd> <!-- inverse() -->

              <!-- ===================================================== -->
              <dt>
                <code class='method-name'><a id="DOM-CSSMatrix-translate" name='DOM-CSSMatrix-translate'>translate</a></code>
              </dt>
              <dd>
                <div class='method'>
                  The <code>translate</code> method returns a new matrix which is this matrix post multiplied by a translation matrix containing the passed values. This matrix is not modified.
                  <div class='parameters'>
                    <b>Parameters</b>
                    <div class='paramtable'>
                      <dl>
                        <dt>
                          <code class='parameter-name'>x</code> of type <code>float</code>
                        </dt>
                        <dd>
                          The X component of the translation value.<br>
                        </dd>
                        <dt>
                          <code class='parameter-name'>y</code> of type <code>float</code>
                        </dt>
                        <dd>
                          The Y component of the translation value.<br>
                        </dd>
                      </dl>
                    </div>
                  </div><!-- parameters -->
                  <div class='return-value'>
                    <b>Return Value</b>
                    <div class='returnvalue'>
                      <dl>
                        <dt>
                          <code>CSSMatrix</code>
                        </dt>
                        <dd>
                          The result matrix.<br>
                        </dd>
                      </dl>
                    </div>
                  </div>
                  <div>
                    <b>No Exceptions</b>
                  </div>
                </div><!-- ======================================================================================================= -->
              </dd> <!-- translate() -->
              
              <!-- ===================================================== -->
              <dt>
                <code class='method-name'><a id="DOM-CSSMatrix-scale" name='DOM-CSSMatrix-scale'>scale</a></code>
              </dt>
              <dd>
                <div class='method'>
                  The <code>scale</code> method returns a new matrix which is this matrix post multiplied by a scale matrix containing the passed values. If the z component is undefined, a 1 value is used in its place. If the y component is undefined, the x component value is used in its place. This matrix is not modified.
                  <div class='parameters'>
                    <b>Parameters</b>
                    <div class='paramtable'>
                      <dl>
                        <dt>
                          <code class='parameter-name'>scaleX</code> of type <code>float</code>
                        </dt>
                        <dd>
                          The X component of the scale value.<br>
                        </dd>
                        <dt>
                          <code class='parameter-name'>scaleY</code> of type <code>float</code>
                        </dt>
                        <dd>
                          The (optional) Y component of the scale value.<br>
                        </dd>
                      </dl>
                    </div>
                  </div><!-- parameters -->
                  <div class='return-value'>
                    <b>Return Value</b>
                    <div class='returnvalue'>
                      <dl>
                        <dt>
                          <code>CSSMatrix</code>
                        </dt>
                        <dd>
                          The result matrix.<br>
                        </dd>
                      </dl>
                    </div>
                  </div>
                  <div>
                    <b>No Exceptions</b>
                  </div>
                </div><!-- ======================================================================================================= -->
              </dd> <!-- scale() -->
              
              <!-- ===================================================== -->
              <dt>
                <code class='method-name'><a id="DOM-CSSMatrix-rotate" name='DOM-CSSMatrix-rotate'>rotate</a></code>
              </dt>
              <dd>
                <div class='method'>
                  The <code>rotate</code> method returns a new matrix which is this matrix post multiplied by a rotation matrix. The rotation value is in degrees. This matrix is not modified.
                  <div class='parameters'>
                    <b>Parameters</b>
                    <div class='paramtable'>
                      <dl>
                        <dt>
                          <code class='parameter-name'>angle</code> of type <code>float</code>
                        </dt>
                        <dd>
                          The angle of rotation.<br>
                        </dd>
                      </dl>
                    </div>
                  </div><!-- parameters -->
                  <div class='return-value'>
                    <b>Return Value</b>
                    <div class='returnvalue'>
                      <dl>
                        <dt>
                          <code>CSSMatrix</code>
                        </dt>
                        <dd>
                          The result matrix.<br>
                        </dd>
                      </dl>
                    </div>
                  </div>
                  <div>
                    <b>No Exceptions</b>
                  </div>
                </div>
                <!-- ======================================================================================================= -->
              </dd> <!-- rotate() -->

            </dl><!-- methods -->
          </dd>

        </dl>
      </dd> <!-- Interface CSSMatrix -->
    </dl>
      <!-- ============================================================ -->

    <h3 id="csstransformvalue-interface">
      7.4 CSSTransformValue
    </h3>

    <dl>
      <dt>
        <b>Interface <i><a id="DOM-CSSTransformValue" name='DOM-CSSTransformValue'>CSSTransformValue</a></i></b>
      </dt>
      <dd>
        <p>
          The <code>CSSTransformValue</code> interface represents one transform function in the transform property. The
          <code>operationType</code> defines which operation is represented. The object also contains a list of values,
          which are the parameters of the function, in the same order in which they appear in the transform functions.
        </p>
        <dl>
          <dt>
            <b>IDL Definition</b>
          </dt>
          <dd>
            <div class='idl-code'>
              <pre>
interface CSSTransformValue : CSSValueList {

    // 2D OperationTypes
    const unsigned short CSS_TRANSLATE   = 1;
    const unsigned short CSS_TRANSLATEX  = 2;
    const unsigned short CSS_TRANSLATEY  = 3;
    const unsigned short CSS_ROTATE      = 4;
    const unsigned short CSS_SCALE       = 5;
    const unsigned short CSS_SCALEX      = 6;
    const unsigned short CSS_SCALEY      = 7;
    const unsigned short CSS_SKEW        = 8;
    const unsigned short CSS_SKEWX       = 9;
    const unsigned short CSS_SKEWY       = 10;
    const unsigned short CSS_MATRIX      = 11;

    attribute unsigned short operationType;
    
    CSSMatrix getCSSMatrix() raises(DOMException);
};    
</pre>
            </div>
          </dd> <!-- IDL -->

          <dt>
            <b>Attributes</b>
          </dt>
          <dd>
            <dl>
              <dt>
                <code class='attribute-name'><a id="DOM-CSSTransformValue-operationType" name='DOM-CSSTransformValue-operationType'>operationType</a></code> of type <code>unsigned short</code>
              </dt>
              <dd>
                One of the listed operation types.<br>
              </dd>
            </dl>
          </dd> <!-- Attributes -->
          
          <dt>
            <b>Methods</b>
          </dt>
          <dd>
            <dl>

              <!-- ===================================================== -->
              <dt>
                <code class='method-name'><a id="DOM-CSSTransformValue-getCSSMatrix" name='DOM-CSSTransformValue-getCSSMatrix'>getCSSMatrix</a></code>
              </dt>
              <dd>
                <div class='method'>
                  The <code>getCSSMatrix</code> method returns
                  a CSSMatrix object representing this transform.
                  <div class='parameters'>
                    <b>No Parameters</b>
                  </div><!-- parameters -->
                  <div class='return-value'>
                    <b>Return Value</b>
                    <div class='returnvalue'>
                      <dl>
                        <dt>
                          <code>CSSMatrix</code>
                        </dt>
                        <dd>
                          The result matrix.
                        </dd>
                      </dl>
                    </div>
                  </div>
                  <div>
                    <b>Exceptions</b>
                    <div class='returnvalue'>
                      <dl>
                        <dt>
                          <code>NOT_SUPPORTED_ERROR</code>
                        </dt>
                        <dd>
                          Thrown when the CSSTranformValue can not be converted into a CSSMatrix, such as when the CSSTransformValue contains percentage units and is being called on an object with unknown dimensions.
                        </dd>
                      </dl>
                    </div>
                  </div>
                </div>
              </dd> <!-- setMatrixValue -->
            </dl>
          </dd> <!-- methods -->

        </dl>
      </dd> <!-- Interface CSSTransformValue -->
    </dl>

    <p>
      In addition to the interfaces listed above, the <code>getComputedStyle</code> method of the <code>Window</code>
      object has been updated. The <code>transform</code> property of the style object returned by
      <code>getComputedStyle</code> contains a single CSSTransformValue with a type of CSS_MATRIX. The 6 parameters
      represent the 3x2 matrix that is the result of applying the individual functions listed in the
      <code>transform</code> property.
    </p>
    
  </body>
</html>
